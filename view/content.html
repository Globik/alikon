<style>
#aper{width:90%;margin:10px auto;padding:30px 60px;border:1px solid red;}
.activ{color:red;background:green;border:3px solid red;}
</style>

<div class="daper">
<div style="height:30px;"></div>
<h1 class="" style="clar:both">Some</h1>
<div>



<option value="role"><%- JSON.parse(file).user.role %></option>
<option value="user"><%- JSON.parse(file).user.name %></option>
<style>
/*
select{background:green;}
.notrans select::-ms-expand{display:none;}
.notrans select{-webkit-appearance:none;
-o-appearance:none;appearance:none;outline:none;
background:red;width:300px;height:60px;font-size:32px;color:gray;padding:10px;
border-radius:10px;-o-border-radius:10px;cursor:pointer;
}
.notrans option{color:pink;-o-border-radius:10px;border-radius:10px;}


.trans .tragreen{-webkit-appearance:none;
-o-appearance:none;appearance:none;outline:none;
background:green;width:300px;height:60px;font-size:32px;color:gray;padding:10px;
border-radius:10px;-o-border-radius:10px;cursor:pointer;
}

.trans option{color:pink;-o-border-radius:10px;border-radius:10px;}
*/
</style>
<select id="leveloption" onchange="showname(this.value)">
<option>menu</option>
<option value="/">home</option>
<option value="/articles">articles</option>
<option value="/labo">labs</option>
</select>
<br>Anderer select:
<select>
<option class="tragreen" value="option1">option1</option>
<option value="option2">option2</select>
<br>
transform: translate() - <span id="outrans"></span>
<script>
var colimator=[];
var transli=document.getElementById("outrans");
//transli.style.msTransform="translate("+10px)";
if(transli.style.transform !== undefined){
outrans.textContent=" is OK"}
else{outrans.textContent=" does not work";}
var props=['transform','webkitTransform','msTransform','mozTransform','oTransform'];
function mobidick(el){

var p;
while(p=props.shift()){
if (typeof el.style[p] !='undefined'){
outrans.textContent+=' = '+p;
return p;
}
}
return false;
}
function showname(el){
//alert(el);
window.location.href=el;
//alert(window.location.href)
}
//alert(mobidick(transli))
var levelopt=document.getElementById('leveloption');
if(mobidick(levelopt) !== false){
//document.body.className="notrans"
}else{
//document.body.className="trans";
}
</script>
</div>
<div>3
<% if(message){%>
<b><%= message %></b><%}%>

<% if(user){%><b>Hallo User!</b> <%= user.username %></br>
<a href="/app">app</a><%}%></br>
<a href="/show/tobi">show user tobi</a>
</div>
<div class="">4
  <button onclick="doit(this)">xhr</button>
  <button onclick="addT(this)">get xhr</button></br>
  <span id="out"></span>
</div>
<div class="">5<button onclick="sendSock()">send message via WebSocket</button>
 </div>
<div class="">6
<span id="tout"></span>
</div>
<div class="">7
<span id='tout2'></span>


</div>
<div class="">8
<span id="tout3"></span>
<span id="tout45"></span>
</div>
</br><hr/><b>window.innerWidth :</b><span id="gout"></span></br>
<button onclick="getcursrc()"><b>currentSrc :</b></button><span id="gout2"></span><hr/>
<div class="container" style="width:100%;margin:0 auto;box-sizing:border-box;-webkit-box-sizing:border-box;">

<picture>
<source media="(min-width: 1366px)" srcset="/images/upload/tempo/gorod1-m4.jpg">
<source media="(min-width: 808px)" srcset="/images/upload/tempo/gorod1-m3.jpg 1x,/images/upload/tempo/gorod1-m4.jpg 2x">
<source media="(min-width: 600px)" srcset="/images/upload/tempo/gorod1-m2.jpg">
<source media="(max-width: 320px)" srcset="/images/upload/tempo/gorod1-m1.jpg">

<img id="fuckimg" src="/images/upload/tempo/gorod1-m2.jpg" 
alt="media picture element" title="title1" 
sizes="100vw" srcset="/images/upload/tempo/gorod1-m1.jpg 384w,
/images/upload/tempo/gorod1-m2.jpg 768w, 
/images/upload/tempo/gorod1-m3.jpg 1152w,
/images/upload/tempo/gorod1-m4.jpg 1536w">
</picture>


</div></br>


<script>
function getcursrc(){
gout2.innerHTML=fuckimg.currentSrc;
}
gout.innerHTML=window.innerWidth;
window.onresize=function(){
gout.innerHTML=window.innerWidth;
}

</script>



<style>
canvas{width:6em;height:6em;}
</style>
<canvas id="fcanv" width='100' height='100' style="border:1px solid red;"></canvas>

<script>
var cnv=document.getElementById('fcanv');
var c=cnv.getContext('2d');
var img=new Image();
img.onload=function(){
c.fillStyle="white";
c.beginPath();
c.arc(cnv.width/2,cnv.height/2,cnv.width/2-5,0,2*Math.PI,false);
c.fill();
c.stroke();
c.drawImage(img,-2,20,50,50);
c.font='19px "Marker Felt" cursive,sans-serif';
c.fillStyle="blue";
c.fillText('tariku',37,59);
c.fillStyle="black";
c.font='bold 11px Verdana';
c.fillText('group',48,70);
c.beginPath();
c.arc(cnv.width/2,cnv.height/2,cnv.width/2-5,0,2*Math.PI,false);
//c.fillStyle="red";
//c.fill();
c.lineWidth=5;
c.strokeStyle='green';
c.stroke();
}

img.src="/images/w4.png";

</script>
</br><button onclick="getusername()">get username doc</button>
</div>
<script>
  function vax(meth,url,data,onLoad,onError){
var xhr=new XMLHttpRequest();
xhr.open(meth,url);
xhr.setRequestHeader("Content-Type","application/json");
xhr.onload=onLoad;
xhr.onerror=onError;
xhr.send(data);
} 

function onLoad(e){
if(this.status==200){
console.log(this.responseText);
alert('ok');
}
}
function onError(e){alert('fuck');}

  function doit(){
  var data={};
  data.mata="Hallo there!";
  var data=JSON.stringify(data);
  //xhr.setRequestHeader("Content-Type","application/json");
  vax('get','/alfa',data,onLoad,onError);
    function onLoad(e){
  var antwort=JSON.parse(this.responseText);
  //out.innerHTML=this.response;
 out.innerHTML=antwort.str+' :'+ antwort.data ;
  }
  }
  
  function addT(event){
  //var data={};
  
  var xhr=new XMLHttpRequest();
  //xhr.setRequestHeader("Content-Type","application/json");
  //var bu=document.forms["todoform"]["task"].value;
  var dn="Pupkin"
xhr.open("GET","/beta/:"+dn,true);
  
  //alert(bu);
  xhr.onload=function(e){
  if(this.status == 200){
  out.innerHTML=this.response || this.responseText;}}
xhr.onerror=function(e){alert("fuck");}
xhr.send();
  }
  /***
  function doform(form){
  var xhr=new XMLHttpRequest();
  var params='username='+encodeURIComponent('Bob')+'&password='+encodeURIComponent('secret');
  xhr.open=("post","/custom2",true);
  xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
  xhr.onload=function(ov){
  if(this.status ==200){prout.innerHTML=this.response;}
  else{prout.innerHTML=this.status;}}
  xhr.send(params);
  return false;
  }
  ***/
  /***
  var forma=document.forms.namedItem("bub");
  forma=addEventListener('submit',function(ev){
  var xhr=new XMLHttpRequest();
  var params='username='+encodeURIComponent('Bob')+'&password='+encodeURIComponent('secret');
  xhr.open=("post","/custom2",true);
  xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
  xhr.onload=function(ov){
  if(this.status ==200){prout.innerHTML=this.response;}
  else{prout.innerHTML=this.status;}}
  xhr.send(params);
  return false;
  ev.preventDefault();
  },false);
  ***/
  
  //var form=document.forms.namedItem("fileinfo");
  //alert(document.forms.namedItem("fileinfo").username.value);
  //alert(form.username.value);
  
 /*** 
form.addEventListener('submit',function(ev){
//odata=new FormData(document.forms.namedItem("fileinfo"));
//odata.append("custom field","this is some extra data");
//alert(documents.form.fileinfo);
var suserpassw=form.password.value;
var suser=form.username.value;
var oreq=new XMLHttpRequest();
var params='username='+encodeURIComponent(suser)+'&password='+encodeURIComponent(suserpassw);
     oreq.open("post","/custom2",true);
	 //oreq.setRequestHeader('Content-Type','multipart/form-data');
	 oreq.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
	 
	 oreq.onload=function(oevent){
	 if(oreq.status==200){
	 var data=JSON.parse(this.response);
	 //out.innerHTML=this.response;
	 out.innerHTML=data.success+" : "+data.redirect;
	 window.location.href=data.redirect;
	 }
	 else{out.innerHTML=oreq.status;}}
	 //oreq.send(odata);
	 oreq.send(params);
	 ev.preventDefault();},false);
  ***/
  </script>
  
  <script>
  //alert('location.hostname :'+location.hostname);//alikon.herokuapp.com
  //alert("location.port :"+location.port);
  var koaws={};
  var loc1=location.hostname+':'+location.port;
  var loc2='alikon.herokuapp.com';
  var loc3=loc1 || loc2;
  //var sock1=new WebSocket('ws://'+location.hostname+':'+location.port,['soap','jsonrpc-2.0']);
  //var sock2=new WebSocket('ws://alikon.herokuapp.com',['soap','jsonrpc-2.0']);
 // var socket=new Websocket('ws://'+window.location.href+',['soap','jsonrpc-2.0']);
 var socket=new WebSocket(`ws://${loc3}`);
 
  socket.onopen=function(){
  //alert('connected');
  out.innerHTML='Connected!';
  }
  var msg={"jsonrpc":"2.0",method:"hello","params":[41,20],"id":1};
  var msg2={"jsonrpc":"2.0",method:"dolley","params":[41,20],"id":2};
  var data=JSON.stringify(msg);
  var data2=JSON.stringify(msg2);
  function sendSock(){
  //socket.send(data);
  socket.send(data);
  }
  
  socket.onclose=function(ev){
  if(ev.wasClean){
  //alert('clear closed');
  out.innerHTML="Clearly closed!"
  }
  else{
  //alert('obryv conection');
  out.innerHTML="Abrupt connection."
  }
  //alert('code: '+ev.code+'reson :'+ev.data);
  out.innerHTML=2;//"<h1>"+"Code :"+ev.code+" reason :"+ev.data+"</h1>";
  }
  
  socket.onmessage=function(ev){
  //alert('polucheny dannye :'+ev.data);
  out.innerHTML+='<code>Angaaben :'+ev.data+'</code></br>';
  }
  
  socket.onerror=function(error){
  //alert('error :'+error.message);
  out.innerHTML='<b>Error : '+error.message+'</b>';}
  </script>
  <script>
//var html=document.getElementsByTagName("html")[0];
var tout=document.getElementById('tout');
var dtct=document.createElement('div');
dtct.style.display='flex';
if(dtct.style.display === 'flex'){
//html.className+='flex'
tout.innerHTML='flex OK';
}else{
//html.className+="noflex";
tout.innerHTML='flex not supported';}
</script>
<script>
var ismedia=!!(window && window.matchMedia);
if(window.matchMedia){tout3.innerHTML='media queries OK';}
else{tout3.innerHTML='media queries NOT supported';}

function getusername(){
var xhr=new XMLHttpRequest();
xhr.open("GET","/insert.html",true);
xhr.setRequestHeader("Content-Type","text/html"); 
xhr.onload=function(e){
if(this.status == 200){
out.innerHTML=this.response;}}
xhr.onerror=function(e){alert("fuck");}
xhr.send();
  }

</script>
